<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Cyberpunk Car with Three.js</title>
    <style>
      body { margin: 0; overflow: hidden; }
      canvas { display: block; }
    </style>
  </head>
  <body>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/OrbitControls.js"></script>
    <script>
      // Initialize scene, camera, and renderer
      const scene = new THREE.Scene();
      scene.background = new THREE.Color(0x0a0a1a);
      scene.fog = new THREE.Fog(0x0a0a1a, 10, 30);

      const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
      camera.position.set(8, 4, 12);

      const renderer = new THREE.WebGLRenderer({ antialias: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.shadowMap.enabled = true;
      renderer.setPixelRatio(window.devicePixelRatio);
      document.body.appendChild(renderer.domElement);

      // Lighting
      const ambientLight = new THREE.AmbientLight(0x404060, 0.3);
      scene.add(ambientLight);

      const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
      directionalLight.position.set(10, 20, 10);
      directionalLight.castShadow = true;
      scene.add(directionalLight);

      // Neon point lights
      const neonLightBlue = new THREE.PointLight(0x0066ff, 1, 15);
      neonLightBlue.position.set(2, 2, 2);
      scene.add(neonLightBlue);

      const neonLightPurple = new THREE.PointLight(0x9900ff, 1, 15);
      neonLightPurple.position.set(-2, 2, 2);
      scene.add(neonLightPurple);

      // Car group
      const car = new THREE.Group();
      scene.add(car);

      // Car body
      const bodyGeometry = new THREE.BoxGeometry(5, 0.8, 2.2);
      const bodyMaterial = new THREE.MeshStandardMaterial({
          color: 0x333333,
          metalness: 0.8,
          roughness: 0.3,
          emissive: 0x111122,
          emissiveIntensity: 0.1
      });
      const body = new THREE.Mesh(bodyGeometry, bodyMaterial);
      body.position.y = 1.5;
      body.castShadow = true;
      car.add(body);

      // Panel lines (subtle details)
      const lineGeometry = new THREE.BoxGeometry(0.05, 0.05, 2.3);
      const lineMaterial = new THREE.MeshStandardMaterial({ color: 0x555555 });
      const line1 = new THREE.Mesh(lineGeometry, lineMaterial);
      line1.position.set(0, 1.6, 0.6);
      car.add(line1);
      const line2 = new THREE.Mesh(lineGeometry, lineMaterial);
      line2.position.set(0, 1.6, -0.6);
      car.add(line2);

      // Neon accents (sides)
      const accentGeometry = new THREE.BoxGeometry(0.1, 0.1, 2.4);
      const accentMaterial = new THREE.MeshStandardMaterial({
          color: 0x0066ff,
          emissive: 0x0066ff,
          emissiveIntensity: 1
      });
      const accentLeft = new THREE.Mesh(accentGeometry, accentMaterial);
      accentLeft.position.set(-2.45, 1.4, 0);
      car.add(accentLeft);
      const accentRight = new THREE.Mesh(accentGeometry, accentMaterial);
      accentRight.position.set(-2.45, 1.4, 0);
      car.add(accentRight);

      // Front neon accent
      const frontAccentGeometry = new THREE.BoxGeometry(0.1, 0.2, 0.8);
      const frontAccent = new THREE.Mesh(frontAccentGeometry, accentMaterial);
      frontAccent.position.set(2.5, 1.4, 0);
      car.add(frontAccent);

      // Cockpit (transparent glass)
      const cockpitGeometry = new THREE.BoxGeometry(1.5, 0.7, 1.5);
      const cockpitMaterial = new THREE.MeshStandardMaterial({
          color: 0xaaaaaa,
          transparent: true,
          opacity: 0.3,
          metalness: 0.1,
          roughness: 0.1
      });
      const cockpit = new THREE.Mesh(cockpitGeometry, cockpitMaterial);
      cockpit.position.set(0.5, 1.8, 0);
      car.add(cockpit);

      // Holographic display (interior)
      const displayGeometry = new THREE.BoxGeometry(0.8, 0.05, 0.3);
      const displayMaterial = new THREE.MeshStandardMaterial({
          color: 0x00ffff,
          emissive: 0x00ffff,
          emissiveIntensity: 1
      });
      const display = new THREE.Mesh(displayGeometry, displayMaterial);
      display.position.set(1, 1.8, 0);
      car.add(display);

      // Wheels
      const wheelGeometry = new THREE.CylinderGeometry(0.4, 0.4, 0.2, 32);
      const wheelMaterial = new THREE.MeshStandardMaterial({
          color: 0x222222,
          metalness: 0.9,
          roughness: 0.2
      });
      const wheelFL = new THREE.Mesh(wheelGeometry, wheelMaterial);
      wheelFL.position.set(-1.8, 0.8, 1);
      wheelFL.rotation.z = Math.PI / 2;
      wheelFL.castShadow = true;
      car.add(wheelFL);

      const wheelFR = new THREE.Mesh(wheelGeometry, wheelMaterial);
      wheelFR.position.set(-1.8, 0.8, -1);
      wheelFR.rotation.z = Math.PI / 2;
      wheelFR.castShadow = true;
      car.add(wheelFR);

      const wheelBL = new THREE.Mesh(wheelGeometry, wheelMaterial);
      wheelBL.position.set(1.8, 0.8, 1);
      wheelBL.rotation.z = Math.PI / 2;
      wheelBL.castShadow = true;
      car.add(wheelBL);

      const wheelBR = new THREE.Mesh(wheelGeometry, wheelMaterial);
      wheelBR.position.set(1.8, 0.8, -1);
      wheelBR.rotation.z = Math.PI / 2;
      wheelBR.castShadow = true;
      car.add(wheelBR);

      // Glowing rims
      const rimGeometry = new THREE.TorusGeometry(0.42, 0.05, 16, 32);
      const rimMaterial = new THREE.MeshStandardMaterial({
          color: 0x9900ff,
          emissive: 0x9900ff,
          emissiveIntensity: 1
      });
      const rimFL = new THREE.Mesh(rimGeometry, rimMaterial);
      rimFL.position.set(-1.8, 0.8, 1);
      rimFL.rotation.x = Math.PI / 2;
      car.add(rimFL);

      const rimFR = new THREE.Mesh(rimGeometry, rimMaterial);
      rimFR.position.set(-1.8, 0.8, -1);
      rimFR.rotation.x = Math.PI / 2;
      car.add(rimFR);

      const rimBL = new THREE.Mesh(rimGeometry, rimMaterial);
      rimBL.position.set(1.8, 0.8, 1);
      rimBL.rotation.x = Math.PI / 2;
      car.add(rimBL);

      const rimBR = new THREE.Mesh(rimGeometry, rimMaterial);
      rimBR.position.set(1.8, 0.8, -1);
      rimBR.rotation.x = Math.PI / 2;
      car.add(rimBR);

      // Headlights
      const headlightGeometry = new THREE.BoxGeometry(0.2, 0.1, 0.1);
      const headlightMaterial = new THREE.MeshStandardMaterial({
          color: 0x0066ff,
          emissive: 0x0066ff,
          emissiveIntensity: 2
      });
      const headlightLeft = new THREE.Mesh(headlightGeometry, headlightMaterial);
      headlightLeft.position.set(2.5, 1.2, 0.5);
      car.add(headlightLeft);

      const headlightRight = new THREE.Mesh(headlightGeometry, headlightMaterial);
      headlightRight.position.set(2.5, 1.2, -0.5);
      car.add(headlightRight);

      // Ground (reflective)
      const groundGeometry = new THREE.PlaneGeometry(50, 50);
      const groundMaterial = new THREE.MeshStandardMaterial({
          color: 0x222222,
          roughness: 0.6,
          metalness: 0.3
      });
      const ground = new THREE.Mesh(groundGeometry, groundMaterial);
      ground.rotation.x = -Math.PI / 2;
      ground.receiveShadow = true;
      scene.add(ground);

      // Cyberpunk city background (simple boxes as buildings)
      const buildingGeometry = new THREE.BoxGeometry(2, 10, 2);
      const buildingMaterial = new THREE.MeshStandardMaterial({
          color: 0x222233,
          emissive: 0x111133,
          emissiveIntensity: 0.1
      });
      for (let i = 0; i < 20; i++) {
          const building = new THREE.Mesh(buildingGeometry, buildingMaterial);
          building.position.set(
              -20 + Math.random() * 40,
              5,
              -20 + Math.random() * 40
          );
          building.scale.y = 1 + Math.random() * 5;
          scene.add(building);
      }

      // OrbitControls
      const controls = new THREE.OrbitControls(camera, renderer.domElement);
      controls.target.set(0, 1.5, 0);

      // Animation loop (hover effect and neon pulse)
      let hoverOffset = 0;
      let neonIntensity = 1;
      let neonDirection = 0.01;

      function animate() {
          requestAnimationFrame(animate);

          // Hover effect
          hoverOffset = 0.05 * Math.sin(Date.now() * 0.002);
          car.position.y = 1.5 + hoverOffset;

          // Neon pulse effect
          neonIntensity += neonDirection;
          if (neonIntensity > 1.5 || neonIntensity < 0.5) {
              neonDirection *= -1;
          }
          accentMaterial.emissiveIntensity = neonIntensity;
          rimMaterial.emissiveIntensity = neonIntensity;
          headlightMaterial.emissiveIntensity = 1.5 + neonIntensity * 0.5;

          controls.update();
          renderer.render(scene, camera);
      }
      animate();

      // Handle window resize
      window.addEventListener('resize', () => {
          camera.aspect = window.innerWidth / window.innerHeight;
          camera.updateProjectionMatrix();
          renderer.setSize(window.innerWidth, window.innerHeight);
      });
    </script>
  </body>
</html>
